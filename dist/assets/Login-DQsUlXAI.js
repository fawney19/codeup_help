import{u as D,r as n,o as S,c as a,a as s,b as e,F as c,d as m,e as j,f as x,w as k,g as N,v as $,t as f,h as A,i as E,n as v,j as h}from"./index-DkEg5kBp.js";const L={class:"min-h-screen relative overflow-hidden bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50"},O={class:"absolute inset-0 overflow-hidden"},V={class:"absolute inset-0"},B={class:"relative z-10 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},F={class:"max-w-lg w-full space-y-8"},U={class:"bg-white/90 backdrop-blur-sm border-4 border-blue-600 shadow-brutal-lg p-8 animate-fade-in-up animate-delay-200"},H=["disabled"],I={class:"mt-3 bg-brutal-cyan border-2 border-blue-600 p-3 flex items-center justify-between"},P={key:0,class:"bg-brutal-red border-4 border-blue-600 shadow-brutal p-4"},R={class:"text-center"},T={class:"text-sm font-bold text-gray-800"},G=["disabled"],K={key:0},W={key:1},J={class:"bg-white border-4 border-blue-600 shadow-brutal-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto animate-scale-in"},Q={class:"flex justify-between items-center mb-6"},X={class:"space-y-4"},Y={class:"flex items-start"},Z={class:"bg-blue-600 text-white px-3 py-1 text-sm font-black mr-4 flex-shrink-0 rounded"},q={class:"font-bold text-gray-800 mb-1"},tt={class:"text-sm text-gray-700"},at={__name:"Login",setup(et){const w=E(),_=D(),d=n(""),u=n(!1),i=n(""),b=n(!1),p=n([]),g=n([]),y=n([]),M=n([{title:"登录 Codeup 网站",description:"在浏览器中打开并登录 Codeup 网站，确保已经成功登录"},{title:"打开开发者工具",description:'按 F12 键或右键选择"检查元素"打开浏览器开发者工具'},{title:"切换到网络标签",description:'在开发者工具中点击"Network"（网络）标签页'},{title:"刷新页面并选择请求",description:"刷新当前页面，然后在网络请求列表中选择任意一个请求"},{title:"查找 Cookie 字段",description:'在请求详情的"Request Headers"部分找到"Cookie"字段'},{title:"复制 Cookie 值",description:"复制完整的 Cookie 值并粘贴到上方的输入框中"}]),C=()=>{p.value=Array.from({length:10},(l,o)=>({x:Math.random()*100,y:Math.random()*100,size:Math.random()*60+30,color:["bg-blue-200","bg-indigo-200","bg-gray-200","bg-slate-200"][Math.floor(Math.random()*4)],delay:Math.random()*5,duration:Math.random()*3+4})),g.value=Array.from({length:6},(l,o)=>({x:Math.random()*100,y:Math.random()*100,size:Math.random()*40+20,color:["bg-blue-100","bg-indigo-100","bg-gray-100","bg-slate-100"][Math.floor(Math.random()*4)],rotation:["rotate-12","rotate-45","-rotate-12","-rotate-45"][Math.floor(Math.random()*4)],delay:Math.random()*3,duration:Math.random()*4+3})),y.value=Array.from({length:15},(l,o)=>({x:Math.random()*100,y:Math.random()*100,size:Math.random()*6+3,color:["bg-blue-300","bg-indigo-300","bg-slate-300","bg-gray-300"][Math.floor(Math.random()*4)],delay:Math.random()*5,duration:Math.random()*6+4}))},z=async()=>{if(!d.value.trim()){i.value="请输入 Codeup Cookies";return}u.value=!0,i.value="";try{const l=await _.loginWithCookies(d.value.trim());l.success?await w.push("/projects"):i.value=l.error||"登录失败，请检查 Cookies 是否正确或包含有效的 login_ticket"}catch(l){i.value="登录过程中发生错误，请稍后重试",console.error("Login error:",l)}finally{u.value=!1}};return S(()=>{C()}),(l,o)=>(s(),a("div",L,[e("div",O,[(s(!0),a(c,null,m(p.value,(t,r)=>(s(),a("div",{key:`circle-${r}`,class:h(["absolute rounded-full opacity-10 animate-bounce",t.color]),style:v({left:t.x+"%",top:t.y+"%",width:t.size+"px",height:t.size+"px",animationDelay:t.delay+"s",animationDuration:t.duration+"s"})},null,6))),128)),(s(!0),a(c,null,m(g.value,(t,r)=>(s(),a("div",{key:`square-${r}`,class:h(["absolute opacity-8 animate-pulse transform",[t.color,t.rotation]]),style:v({left:t.x+"%",top:t.y+"%",width:t.size+"px",height:t.size+"px",animationDelay:t.delay+"s",animationDuration:t.duration+"s"})},null,6))),128)),e("div",V,[(s(!0),a(c,null,m(y.value,(t,r)=>(s(),a("div",{key:`particle-${r}`,class:h(["absolute rounded-full animate-float",t.color]),style:v({left:t.x+"%",top:t.y+"%",width:t.size+"px",height:t.size+"px",animationDelay:t.delay+"s",animationDuration:t.duration+"s"})},null,6))),128))])]),e("div",B,[e("div",F,[o[9]||(o[9]=j('<div class="text-center mb-8 animate-fade-in-up"><div class="bg-brutal-yellow border-4 border-blue-600 shadow-brutal p-8 transform -rotate-1 mb-6 hover:rotate-0 transition-transform duration-300"><h1 class="text-5xl font-black text-gray-800 uppercase tracking-tight"> CODEUP </h1><div class="text-xl font-bold text-gray-800 mt-2"> 活动助手 </div></div><div class="bg-brutal-pink border-4 border-blue-600 shadow-brutal-sm p-4 transform rotate-1 hover:-rotate-1 transition-transform duration-300"><p class="text-lg font-bold text-gray-800 uppercase"> 请输入您的 Cookies 登录 </p></div></div>',1)),e("div",U,[e("form",{class:"space-y-8",onSubmit:k(z,["prevent"])},[e("div",null,[o[5]||(o[5]=e("label",{for:"cookies",class:"block text-xl font-black text-gray-800 uppercase mb-4"}," CODEUP COOKIES ",-1)),N(e("textarea",{id:"cookies","onUpdate:modelValue":o[0]||(o[0]=t=>d.value=t),required:"",rows:"5",placeholder:"请粘贴完整的 Codeup 网站 Cookies 字符串...",disabled:u.value,class:"w-full border-4 border-blue-600 p-4 font-bold text-sm focus:outline-none focus:bg-brutal-yellow transition-colors disabled:cursor-not-allowed disabled:opacity-50 resize-vertical min-h-24"},null,8,H),[[$,d.value]]),e("div",I,[o[4]||(o[4]=e("p",{class:"text-sm font-bold text-gray-800 flex-1"}," 从浏览器开发者工具中复制完整的 Cookies 字符串 ",-1)),e("button",{onClick:o[1]||(o[1]=t=>b.value=!b.value),class:"ml-3 w-8 h-8 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors flex items-center justify-center",type:"button"}," ? ")])]),i.value?(s(),a("div",P,[e("div",R,[o[6]||(o[6]=e("h3",{class:"text-lg font-black text-gray-800 uppercase mb-2"}," 登录失败 ",-1)),e("div",T,f(i.value),1)])])):x("",!0),e("div",null,[e("button",{type:"submit",disabled:u.value||!d.value.trim(),class:"w-full bg-brutal-green border-4 border-blue-600 shadow-brutal px-8 py-4 font-black text-gray-800 text-lg uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all disabled:bg-gray-200 disabled:cursor-not-allowed"},[u.value?(s(),a("span",K,"登录中...")):(s(),a("span",W,"LOGIN"))],8,G)])],32)]),b.value?(s(),a("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:o[3]||(o[3]=k(t=>b.value=!1,["self"]))},[e("div",J,[e("div",Q,[o[7]||(o[7]=e("h3",{class:"text-2xl font-black text-gray-800 uppercase"},"📚 获取 Cookies 步骤",-1)),e("button",{onClick:o[2]||(o[2]=t=>b.value=!1),class:"w-8 h-8 bg-red-500 text-white rounded-full font-bold hover:bg-red-600 transition-colors flex items-center justify-center"}," × ")]),e("div",X,[(s(!0),a(c,null,m(M.value,(t,r)=>(s(),a("div",{key:r,class:h(["bg-brutal-orange border-2 border-blue-600 p-4 transform hover:scale-105 transition-transform cursor-pointer",{"rotate-1":r%2===0,"-rotate-1":r%2===1}])},[e("div",Y,[e("span",Z,f(r+1),1),e("div",null,[e("h4",q,f(t.title),1),e("p",tt,f(t.description),1)])])],2))),128))]),o[8]||(o[8]=e("div",{class:"mt-6 bg-brutal-yellow border-2 border-blue-600 p-4 transform rotate-1"},[e("div",{class:"font-black text-gray-800 text-sm"},[e("span",{class:"text-base"},"提示："),A(" Cookie 格式类似："),e("br"),e("code",{class:"bg-blue-600 text-brutal-cyan px-2 py-1 mt-2 inline-block rounded"},"key1=value1; key2=value2; login_ticket=xxxxx;")])],-1))])])):x("",!0)])])]))}};export{at as default};
