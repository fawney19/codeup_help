import{r as w,c as d,f as g,a as n,b as e,m as l,h as b,p as i,t as m,F as W,d as G,k as Ue,u as Pe,l as E,o as Ve,q as He,s as Be,x as ve,g as ie,v as ce,w as qe,y as We,T as Ge,z as Ye,i as Ze,A as Je,B as Xe,j as Ke,n as Qe}from"./index-GidTp_Uf.js";import{c as _,_ as et,C as q,A as de}from"./clock-CTKLyN7B.js";/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=_("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=_("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=_("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=_("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=_("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=_("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=_("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=_("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=_("folder-minus",[["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=_("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=_("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=_("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=_("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=_("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=_("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-vue-next v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=_("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dt={class:"bg-brutal-cyan border-4 border-blue-600 shadow-brutal p-6 transform rotate-1 hover:-rotate-1 transition-transform duration-300"},ut={class:"mb-4"},bt={class:"text-xl font-black text-gray-800 uppercase flex items-center"},pt={class:"space-y-2"},mt={class:"flex items-center"},ht={class:"text-lg font-bold text-gray-800"},xt={class:"flex items-center"},vt={class:"text-lg font-bold text-gray-800"},yt={class:"bg-brutal-yellow border-4 border-blue-600 shadow-brutal p-6 transform -rotate-1 hover:rotate-1 transition-transform duration-300"},ft={class:"flex justify-between items-start mb-4"},gt={class:"text-xl font-black text-gray-800 uppercase flex items-center"},wt={class:"bg-white border-2 border-blue-600 p-4 rounded"},kt=["innerHTML"],_t={class:"bg-brutal-pink border-4 border-blue-600 shadow-brutal p-6 transform rotate-1 hover:-rotate-1 transition-transform duration-300"},$t={class:"flex justify-between items-start mb-4"},Dt={class:"text-xl font-black text-gray-800 uppercase flex items-center"},Ct={class:"bg-white border-2 border-blue-600 p-4 rounded"},jt={class:"space-y-2"},Tt={class:"bg-blue-600 text-white w-6 h-6 flex items-center justify-center text-xs font-bold rounded-full mr-3 mt-0.5 flex-shrink-0"},Mt={class:"text-gray-800 text-sm leading-relaxed"},St={class:"bg-brutal-orange border-4 border-blue-600 shadow-brutal p-6 text-center transform -rotate-1 hover:rotate-0 transition-transform duration-300"},At={class:"text-xl font-black text-gray-800 uppercase mb-4 flex items-center justify-center"},It={class:"flex justify-center space-x-4"},zt={__name:"AIReportDisplay",props:{reportData:{type:Object,required:!0},projectName:{type:String,default:""}},emits:["showToast"],setup(M,{emit:C}){const F=w(null),h=M,k=C,N=x=>x?x.split(`
`).map(r=>{const s=r.trim();if(!s)return"";if(s.match(/^(##\s+)?\d{4}å¹´\d{1,2}æœˆ\d{1,2}æ—¥.*æ˜ŸæœŸ[ä¸€äºŒä¸‰å››äº”å…­æ—¥]/))return`<div class="bg-blue-600 text-white px-3 py-1 rounded font-bold text-sm mb-3 mt-4 first:mt-0 inline-block">${s.replace(/^##\s*/,"").trim()}</div>`;if(s.match(/^\d+\.\s+/)){const u=s.match(/^(\d+)/)[1],f=s.replace(/^\d+\.\s+/,"");return`<div class="ml-4 mb-2 flex items-start">
          <span class="bg-brutal-green text-gray-800 w-6 h-6 flex items-center justify-center text-xs font-bold rounded-full mr-3 mt-0.5 flex-shrink-0">${u}</span>
          <span class="text-gray-800 leading-relaxed">${f}</span>
        </div>`}if(s.match(/^[-â€¢]\s+/))return`<div class="ml-4 mb-2 flex items-start">
          <span class="bg-brutal-cyan text-gray-800 w-4 h-4 flex items-center justify-center text-xs font-bold rounded-full mr-3 mt-1 flex-shrink-0">â€¢</span>
          <span class="text-gray-800 leading-relaxed">${s.replace(/^[-â€¢]\s+/,"")}</span>
        </div>`;if(s.match(/^#+\s+/)){const u=s.match(/^#+/)[0].length,f=s.replace(/^#+\s+/,"");return`<div class="font-bold ${u===1?"text-lg":u===2?"text-base":"text-sm"} text-gray-900 mt-3 mb-2">${f}</div>`}return`<div class="mb-2 text-gray-800 leading-relaxed">${s}</div>`}).filter(r=>r).join(""):"",$=x=>x?x.split(`
`).map(r=>{const s=r.trim();return s?s.replace(/^##\s*/,"").replace(/^#+\s*/,"").replace(/^\d+\.\s*/,u=>u).replace(/^[-â€¢]\s*/,"â€¢ "):""}).filter(r=>r).join(`
`):"",D=async x=>{let r="";switch(x){case"developer":r=`å§“åï¼š${h.reportData.developer}
å²—ä½ï¼š${h.reportData.position}`;break;case"workSummary":r=`æœ¬å‘¨å·¥ä½œå®Œæˆæƒ…å†µï¼š

${$(h.reportData.work_summary)}`;break;case"nextPlan":r=`ä¸‹å‘¨å·¥ä½œè®¡åˆ’ï¼š

${h.reportData.next_plan.map((u,f)=>`${f+1}. ${u}`).join(`
`)}`;break}try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(r),k("showToast","å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");else{const s=document.createElement("textarea");s.value=r,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",document.body.appendChild(s),s.focus(),s.select();try{const u=document.execCommand("copy");if(document.body.removeChild(s),u)k("showToast","å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");else throw new Error("execCommand failed")}catch(u){document.body.removeChild(s),console.error("é™çº§å¤åˆ¶æ–¹æ³•ä¹Ÿå¤±è´¥:",u),k("showToast","å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å¹¶å¤åˆ¶å†…å®¹")}}}catch(s){console.error("å¤åˆ¶å¤±è´¥:",s),s.name==="NotAllowedError"?k("showToast","å¤åˆ¶æƒé™è¢«æ‹’ç»ï¼Œè¯·å…è®¸ç½‘ç«™è®¿é—®å‰ªè´´æ¿"):k("showToast",`å¤åˆ¶å¤±è´¥: ${s.message}`)}},Y=async()=>{const x=$(h.reportData.work_summary),r=`é¡¹ç›®æ´»åŠ¨æŠ¥å‘Š${h.projectName?` - ${h.projectName}`:""}
ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString("zh-CN")}

================================

å¼€å‘è€…ä¿¡æ¯ï¼š
å§“åï¼š${h.reportData.developer}
å²—ä½ï¼š${h.reportData.position}

æœ¬å‘¨å·¥ä½œå®Œæˆæƒ…å†µï¼š
${x}

ä¸‹å‘¨å·¥ä½œè®¡åˆ’ï¼š
${h.reportData.next_plan.map((s,u)=>`${u+1}. ${s}`).join(`
`)}

================================
æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString("zh-CN")}`;try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(r),k("showToast","å®Œæ•´æŠ¥å‘Šå·²å¤åˆ¶åˆ°å‰ªè´´æ¿");else{const s=document.createElement("textarea");s.value=r,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",document.body.appendChild(s),s.focus(),s.select();try{const u=document.execCommand("copy");if(document.body.removeChild(s),u)k("showToast","å®Œæ•´æŠ¥å‘Šå·²å¤åˆ¶åˆ°å‰ªè´´æ¿");else throw new Error("execCommand failed")}catch(u){document.body.removeChild(s),console.error("é™çº§å¤åˆ¶æ–¹æ³•ä¹Ÿå¤±è´¥:",u),k("showToast","å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å¹¶å¤åˆ¶å†…å®¹")}}}catch(s){console.error("å¤åˆ¶å¤±è´¥:",s),s.name==="NotAllowedError"?k("showToast","å¤åˆ¶æƒé™è¢«æ‹’ç»ï¼Œè¯·å…è®¸ç½‘ç«™è®¿é—®å‰ªè´´æ¿"):k("showToast",`å¤åˆ¶å¤±è´¥: ${s.message}`)}},y=()=>{const x=`é¡¹ç›®æ´»åŠ¨æŠ¥å‘Š${h.projectName?` - ${h.projectName}`:""}
ç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString("zh-CN")}

================================

å¼€å‘è€…ä¿¡æ¯ï¼š
å§“åï¼š${h.reportData.developer}
å²—ä½ï¼š${h.reportData.position}

æœ¬å‘¨å·¥ä½œå®Œæˆæƒ…å†µï¼š
${h.reportData.work_summary}

ä¸‹å‘¨å·¥ä½œè®¡åˆ’ï¼š
${h.reportData.next_plan.map((f,U)=>`${U+1}. ${f}`).join(`
`)}

================================
æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š${new Date().toLocaleString("zh-CN")}`,r=new Blob([x],{type:"text/plain;charset=utf-8"}),s=URL.createObjectURL(r),u=document.createElement("a");u.href=s,u.download=`å·¥ä½œæŠ¥å‘Š_${h.reportData.developer}_${new Date().toISOString().split("T")[0]}.txt`,u.click(),URL.revokeObjectURL(s),k("showToast","æŠ¥å‘Šå·²ä¸‹è½½")};return(x,r)=>M.reportData?(n(),d("div",{key:0,ref_key:"reportContainer",ref:F,class:"space-y-6"},[e("div",dt,[e("div",ut,[e("h3",bt,[l(i(ct),{class:"w-5 h-5 mr-2 text-blue-600"}),r[4]||(r[4]=b(" å¼€å‘è€…ä¿¡æ¯ ",-1))])]),e("div",pt,[e("div",mt,[r[5]||(r[5]=e("span",{class:"bg-blue-600 text-white px-2 py-1 text-sm font-bold rounded mr-3"},"å§“å",-1)),e("span",ht,m(M.reportData.developer),1)]),e("div",xt,[r[6]||(r[6]=e("span",{class:"bg-blue-600 text-white px-2 py-1 text-sm font-bold rounded mr-3"},"å²—ä½",-1)),e("span",vt,m(M.reportData.position),1)])])]),e("div",yt,[e("div",ft,[e("h3",gt,[l(i(rt),{class:"w-5 h-5 mr-2 text-blue-600"}),r[7]||(r[7]=b(" æœ¬å‘¨å·¥ä½œå®Œæˆæƒ…å†µ ",-1))]),e("button",{onClick:r[0]||(r[0]=s=>D("workSummary")),class:"bg-brutal-green border-2 border-blue-600 shadow-brutal-sm px-3 py-1 font-bold text-gray-800 text-xs uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all"},[l(i(se),{class:"w-3 h-3 mr-1 inline"}),r[8]||(r[8]=b(" å¤åˆ¶ ",-1))])]),e("div",wt,[e("div",{class:"whitespace-pre-wrap text-gray-800 text-sm leading-relaxed",innerHTML:N(M.reportData.work_summary)},null,8,kt)])]),e("div",_t,[e("div",$t,[e("h3",Dt,[l(i(Q),{class:"w-5 h-5 mr-2 text-blue-600"}),r[9]||(r[9]=b(" ä¸‹å‘¨å·¥ä½œè®¡åˆ’ ",-1))]),e("button",{onClick:r[1]||(r[1]=s=>D("nextPlan")),class:"bg-brutal-green border-2 border-blue-600 shadow-brutal-sm px-3 py-1 font-bold text-gray-800 text-xs uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all"},[l(i(se),{class:"w-3 h-3 mr-1 inline"}),r[10]||(r[10]=b(" å¤åˆ¶ ",-1))])]),e("div",Ct,[e("ul",jt,[(n(!0),d(W,null,G(M.reportData.next_plan,(s,u)=>(n(),d("li",{key:u,class:"flex items-start"},[e("span",Tt,m(u+1),1),e("span",Mt,m(s),1)]))),128))])])]),e("div",St,[e("h3",At,[l(i(re),{class:"w-5 h-5 mr-2 text-blue-600"}),r[11]||(r[11]=b(" å®Œæ•´æŠ¥å‘Šæ“ä½œ ",-1))]),e("div",It,[e("button",{onClick:r[2]||(r[2]=s=>Y()),class:"bg-brutal-green border-4 border-blue-600 shadow-brutal px-4 py-2 font-black text-gray-800 uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all"},[l(i(se),{class:"w-4 h-4 mr-2 inline"}),r[12]||(r[12]=b(" å¤åˆ¶å®Œæ•´æŠ¥å‘Š ",-1))]),e("button",{onClick:r[3]||(r[3]=s=>y()),class:"bg-brutal-cyan border-4 border-blue-600 shadow-brutal px-4 py-2 font-black text-gray-800 uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all"},[l(i(fe),{class:"w-4 h-4 mr-2 inline"}),r[13]||(r[13]=b(" ä¸‹è½½æŠ¥å‘Š(MD) ",-1))])])])],512)):g("",!0)}},Rt=(M,C)=>{const F=M.__vccOpts||M;for(const[h,k]of C)F[h]=k;return F},Lt={class:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50"},Nt={class:"border-b-4 border-black bg-brutal-cyan"},Ot={class:"max-w-7xl mx-auto px-6 py-8"},Et={class:"flex justify-between items-center"},Ft={class:"bg-blue-600 text-white px-3 py-1 inline-block mt-2 font-bold text-sm"},Ut={class:"flex items-center"},Pt={class:"max-w-7xl mx-auto py-6 px-6"},Vt={class:"bg-brutal-yellow border-4 border-blue-600 shadow-brutal p-6 mb-8"},Ht={class:"text-2xl font-black text-gray-800 uppercase mb-4 flex items-center"},Bt={class:"flex flex-wrap gap-4"},qt=["onClick"],Wt={class:"mt-6 flex flex-wrap gap-4"},Gt={class:"block text-lg font-black text-gray-800 uppercase mb-2 flex items-center"},Yt={class:"block text-lg font-black text-gray-800 uppercase mb-2 flex items-center"},Zt={class:"flex items-end"},Jt={key:0,class:"bg-brutal-pink border-4 border-blue-600 shadow-brutal p-6 mb-8"},Xt={class:"flex justify-between items-start mb-6"},Kt={class:"text-2xl font-black text-gray-800 uppercase flex items-center"},Qt=["disabled"],es={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},ts={class:"bg-brutal-cyan border-4 border-blue-600 text-center p-4"},ss={class:"text-3xl font-black text-gray-800"},rs={class:"bg-brutal-green border-4 border-blue-600 text-center p-4"},as={class:"text-3xl font-black text-gray-800"},os={class:"bg-brutal-yellow border-4 border-blue-600 text-center p-4"},ls={class:"text-3xl font-black text-gray-800"},ns={class:"bg-brutal-orange border-4 border-blue-600 text-center p-4"},is={class:"text-3xl font-black text-gray-800"},cs={class:"bg-white border-4 border-blue-600 shadow-brutal-lg p-6"},ds={class:"flex justify-between items-center mb-6"},us={class:"text-2xl font-black text-gray-800 uppercase flex items-center"},bs={key:0,class:"flex items-center space-x-4"},ps={key:0,class:"text-center py-12"},ms={class:"bg-brutal-yellow border-4 border-blue-600 shadow-brutal p-6 inline-block"},hs={class:"text-xl font-black text-gray-800 uppercase mb-2 flex items-center justify-center"},xs={key:1,class:"text-center py-12"},vs={key:2,class:"space-y-6"},ys=["onClick"],fs={class:"flex items-center"},gs={class:"w-6 h-6 bg-blue-600 text-white flex items-center justify-center font-black mr-3"},ws={class:"bg-brutal-pink border-2 border-blue-600 px-4 py-2 font-black text-gray-800 text-sm uppercase"},ks={class:"ml-4 bg-blue-600 text-white px-2 py-1 font-bold text-xs uppercase"},_s={key:0,class:"pl-4 border-l-4 border-black space-y-4 transition-all duration-200"},$s={class:"absolute -left-8 w-8 h-8 bg-brutal-green border-2 border-blue-600 flex items-center justify-center font-black text-gray-800 text-xs"},Ds={class:"flex justify-between items-start"},Cs={class:"flex-1"},js={class:"flex items-center space-x-2"},Ts={class:"text-sm font-medium text-gray-900"},Ms={class:"text-sm text-gray-500"},Ss={key:0,class:"mt-1 text-sm text-gray-600"},As={key:1,class:"mt-2 space-y-1"},Is={class:"font-bold mb-1"},zs={class:"whitespace-pre-wrap"},Rs={key:0,class:"text-xs text-gray-400"},Ls={class:"ml-4 text-right flex-shrink-0"},Ns={class:"text-xs text-gray-500"},Os={key:0,class:"text-xs text-gray-400 mt-1"},Es={class:"bg-brutal-yellow border-b-4 border-blue-600 p-6"},Fs={class:"flex items-center justify-between"},Us={class:"flex items-center space-x-4"},Ps={class:"text-2xl font-black text-gray-800 uppercase flex items-center"},Vs={key:0,class:"bg-blue-600 text-white px-3 py-1 rounded flex items-center border-2 border-gray-800 text-xs"},Hs={key:1,class:"bg-green-600 text-white px-3 py-1 rounded flex items-center border-2 border-gray-800 text-xs"},Bs={class:"flex items-center space-x-3"},qs=["disabled"],Ws={class:"flex-1 overflow-auto p-6 bg-white"},Gs={key:0,class:"flex flex-col items-center space-y-6"},Ys={class:"bg-brutal-pink border-4 border-blue-600 shadow-brutal px-6 py-3 transform -rotate-1"},Zs={class:"text-sm text-gray-800 font-black uppercase flex items-center justify-center"},Js={class:"bg-brutal-cyan border-4 border-blue-600 shadow-brutal px-6 py-3 transform rotate-1"},Xs={class:"text-sm text-gray-800 font-black uppercase flex items-center justify-center"},Ks={class:"w-full max-w-2xl"},Qs={class:"bg-brutal-green border-4 border-blue-600 shadow-brutal p-6"},er={class:"text-lg font-black text-gray-800 uppercase mb-4 flex items-center"},tr={class:"bg-brutal-yellow border-4 border-blue-600 shadow-brutal p-8 inline-block transform rotate-1 hover:-rotate-1 transition-transform duration-300"},sr={class:"text-2xl font-black text-gray-800 uppercase mb-4 flex items-center justify-center"},rr={class:"text-xs text-gray-600 font-bold flex items-center justify-center"},ar={key:1,class:"text-center py-12"},or={class:"bg-brutal-cyan border-4 border-blue-600 shadow-brutal p-8 inline-block transform -rotate-1"},lr={class:"mt-4 text-gray-800 font-black uppercase flex items-center justify-center"},nr={key:0,class:"mt-2 text-sm text-gray-600 font-bold flex items-center justify-center"},ir={key:2},cr={key:1,class:"space-y-4"},dr={class:"flex justify-end space-x-2"},ur={key:0,class:"flex flex-col items-center justify-center py-12"},br={class:"text-gray-800 font-bold text-sm mt-4 flex items-center justify-center"},pr={key:0,class:"text-gray-600 font-bold text-xs mt-2 flex items-center justify-center"},mr={key:1,class:"whitespace-pre-wrap font-mono text-sm text-gray-800 leading-relaxed"},hr={class:"fixed top-4 right-4 z-[99999] space-y-2"},xr={class:"flex items-center px-4 py-3"},vr={class:"flex-shrink-0"},yr={class:"ml-3 flex-1"},fr={class:"text-sm font-black text-gray-800 uppercase"},gr={class:"ml-2"},wr=["onClick"],kr={__name:"ProjectDetail",props:{id:{type:[String,Number],required:!0},name:{type:String,required:!1}},setup(M){const C=M;Xe();const F=Ze(),h=Ue(),k=Pe(),N=w("week"),$=w(""),D=w(""),Y=w(""),y=w(""),x=w(null),r=w(!1),s=w(null),u=w(null),f=w(null),U=w(!1),R=w(new Set),Z=w(""),ge=w(null),ee=w([]);let we=0;const ke=[{value:"today",label:"ä»Šå¤©",icon:q},{value:"week",label:"æœ¬å‘¨",icon:Q},{value:"month",label:"æœ¬æœˆ",icon:ye},{value:"year",label:"ä»Šå¹´",icon:ye}],ae=E(()=>h.currentProject),A=E(()=>h.activities),_e=E(()=>h.loading),oe=E(()=>C.name?decodeURIComponent(C.name):ae.value?.overview?.name||"åŠ è½½ä¸­..."),te=w(new Date),P=E(()=>{if(!s.value)return null;if(r.value){const o=((te.value-s.value)/1e3).toFixed(1);return`${parseFloat(o)}ç§’`}else if(u.value){const t=((u.value-s.value)/1e3).toFixed(1);return`${parseFloat(t)}ç§’`}return null}),V=E(()=>{const a={};return A.value.forEach(t=>{const o=new Date(t.created_at).toDateString();a[o]||(a[o]=[]),a[o].push(t)}),Object.keys(a).forEach(t=>{a[t].sort((o,p)=>new Date(p.created_at)-new Date(o.created_at))}),a}),H=E(()=>{if(!A.value.length)return null;const a=A.value.filter(c=>c.action?.includes("push")).length,t=A.value.reduce((c,j)=>c+(j.commits?.length||0),0),o=Object.keys(V.value).length,p=A.value.reduce((c,j)=>c+(j.commits?.reduce((v,I)=>v+(I.added||0)+(I.modified||0)+(I.removed||0),0)||0),0);return{pushCount:a,commitCount:t,fileChanges:p,activeDays:o}}),$e=a=>{const t=new Date(a),o=new Date,p=new Date(o);return p.setDate(p.getDate()-1),t.toDateString()===o.toDateString()?"ä»Šå¤©":t.toDateString()===p.toDateString()?"æ˜¨å¤©":t.toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})},be=a=>new Date(a).toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"}),le=a=>{const t=new Date,o=p=>{const c=p.getFullYear(),j=String(p.getMonth()+1).padStart(2,"0"),v=String(p.getDate()).padStart(2,"0");return`${c}-${j}-${v}`};switch(a){case"today":$.value=o(t),D.value=o(t);break;case"week":const p=new Date(t),c=t.getDay(),j=c===0?6:c-1;p.setDate(t.getDate()-j),$.value=o(p),D.value=o(t);break;case"month":const v=new Date(t.getFullYear(),t.getMonth(),1);$.value=o(v),D.value=o(t);break;case"year":const I=new Date(t.getFullYear(),0,1);$.value=o(I),D.value=o(t);break}},De=a=>{N.value=a,le(a),B()},B=async()=>{const a=C.id;if(!$.value||!D.value){console.warn("å¼€å§‹æ—¥æœŸæˆ–ç»“æŸæ—¥æœŸä¸ºç©ºï¼Œè·³è¿‡åŠ è½½");return}try{const t=await h.fetchActivities(a,{start_date:$.value,end_date:D.value});Y.value="",y.value="",x.value=null}catch(t){console.error("Failed to load activities:",t)}},Ce=()=>{if(!A.value.length)return;const{pushCount:a,commitCount:t,fileChanges:o,activeDays:p}=H.value,c=me(),j=k.user?.name||k.user?.email?.split("@")[0]||"å¼€å‘è€…";let v=`${c}æ´»åŠ¨å°ç»“ï¼ˆå¼€å‘è€…ï¼š${j}ï¼‰ï¼š

`;v+=`ç»Ÿè®¡æ¦‚è§ˆï¼š
`,v+=`â€¢ æŽ¨é€æ¬¡æ•°ï¼š${a} æ¬¡
`,v+=`â€¢ æäº¤æ•°é‡ï¼š${t} ä¸ª
`,v+=`â€¢ æ–‡ä»¶å˜æ›´ï¼š${o} å¤„
`,v+=`â€¢ æ´»è·ƒå¤©æ•°ï¼š${p} å¤©

`;const I={};Object.entries(V.value).forEach(([z,T])=>{const J=T.filter(X=>X.action?.includes("Push")).length,S=T.reduce((X,ne)=>X+(ne.commits?.length||0),0);I[z]={pushes:J,commits:S,activities:T}}),v+=`æ¯æ—¥ç»Ÿè®¡ï¼š
`,Object.entries(I).sort(([z],[T])=>new Date(T)-new Date(z)).forEach(([z,T])=>{const J=new Date(z).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"});v+=`â€¢ ${J}ï¼šæŽ¨é€ ${T.pushes} æ¬¡ï¼Œæäº¤ ${T.commits} ä¸ª
`}),v+=`
`,v+=`è¯¦ç»†æäº¤è®°å½•ï¼š
`,Object.entries(I).sort(([z],[T])=>new Date(T)-new Date(z)).forEach(([z,T])=>{const J=new Date(z).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"});v+=`
=== ${J} ===
`,T.activities.forEach((S,X)=>{const ne=be(S.created_at);v+=`
${X+1}. [${ne}] ${S.action||"Push"} to ${S.target_title||S.ref_name||"master"}
`,S.note&&(v+=`   å¤‡æ³¨: ${S.note}
`),S.commits&&S.commits.length>0&&(v+=`   æäº¤å†…å®¹:
`,S.commits.forEach((L,Fe)=>{v+=`   ${Fe+1}) ${L.id?.substring(0,7)} - ${L.message||"æ— æäº¤ä¿¡æ¯"}
`,L.author&&typeof L.author=="string"?v+=`      ä½œè€…: ${L.author}
`:L.author&&L.author.name&&(v+=`      ä½œè€…: ${L.author.name}
`)}))})}),Y.value=v},je=()=>{U.value=!0,te.value=new Date},pe=()=>{U.value=!1},Te=a=>a?a.replace(/#{1,6}\s+/g,"").replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[([^\]]*)\]\([^)]*\)/g,"$1").replace(/^\s*[-*+]\s+/gm,"â€¢ ").replace(/\n\s*\n/g,`

`).trim():"",me=()=>{if($.value&&D.value)switch(N.value){case"today":return"ä»Šæ—¥";case"week":return"æœ¬å‘¨";case"month":return"æœ¬æœˆ";case"year":return"ä»Šå¹´";default:return`${$.value} è‡³ ${D.value}`}return"æ—¶é—´èŒƒå›´æœªè®¾ç½®"},Me=()=>{r.value||(y.value="",x.value=null,s.value=null,u.value=null,te.value=new Date,f.value&&(clearInterval(f.value),f.value=null),Se())},Se=async()=>{if(A.value.length&&!r.value)try{r.value=!0,y.value="",x.value=null,s.value=new Date,u.value=null,f.value=setInterval(()=>{te.value=new Date},100),Ce();let a=`é¡¹ç›®ï¼š${oe.value}
æ—¶é—´èŒƒå›´ï¼š${me()}
æ´»åŠ¨æ€»ç»“ï¼š${Y.value}`;Z.value&&Z.value.trim()&&(a+=`

ç”¨æˆ·è¡¥å……ä¿¡æ¯ï¼š
${Z.value.trim()}`);const t={project_id:parseInt(C.id),report_type:"activity_summary",time_range:"custom",start_date:$.value,end_date:D.value,additional_context:a,response_mode:"blocking",user:"frontend_user"},o=await Je.generateAIReportBlocking(C.id,t);if(o&&o.data&&o.data.answer){const p=o.data.answer;try{const c=JSON.parse(p);c.developer&&c.position&&c.work_summary&&c.next_plan?(x.value=c,y.value=""):(y.value=p,x.value=null)}catch{y.value=p,x.value=null}u.value=new Date,f.value&&(clearInterval(f.value),f.value=null)}}catch(a){console.error("AIæŠ¥å‘Šç”Ÿæˆå¤±è´¥:",a),y.value=`## æŠ¥å‘Šç”Ÿæˆå¤±è´¥

å¾ˆæŠ±æ­‰ï¼ŒAIæŠ¥å‘Šç”Ÿæˆè¿‡ç¨‹ä¸­å‡ºçŽ°äº†é”™è¯¯ï¼š${a.message}

è¯·ç¨åŽé‡è¯•ï¼Œæˆ–è”ç³»ç³»ç»Ÿç®¡ç†å‘˜ã€‚

---
*é”™è¯¯æ—¶é—´ï¼š${new Date().toLocaleString("zh-CN")}*`,u.value=new Date}finally{r.value=!1,f.value&&(clearInterval(f.value),f.value=null)}},Ae=(a,t="success")=>{const o={id:++we,message:a,type:t,timestamp:Date.now()};ee.value.push(o),console.log("Toastæ·»åŠ :",a),setTimeout(()=>{he(o.id)},4e3)},he=a=>{const t=ee.value.findIndex(o=>o.id===a);t>-1&&(ee.value.splice(t,1),console.log("Toastç§»é™¤:",a))},O=a=>{Ae(a,"success")},Ie=async()=>{try{if(!y.value){O("æš‚æ— æŠ¥å‘Šå†…å®¹å¯å¤åˆ¶");return}await navigator.clipboard.writeText(y.value),O("æŠ¥å‘Šå·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(a){console.error("å¤åˆ¶å¤±è´¥:",a),O("å¤åˆ¶å¤±è´¥ï¼Œè¯·é‡è¯•")}},ze=async()=>{try{if(!y.value){O("æš‚æ— æŠ¥å‘Šå†…å®¹å¯å¤åˆ¶");return}const a=Te(y.value);await navigator.clipboard.writeText(a),O("æ–‡æœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}catch(a){console.error("å¤åˆ¶å¤±è´¥:",a),O("å¤åˆ¶å¤±è´¥ï¼Œè¯·é‡è¯•")}},Re=()=>{const a=new Blob([y.value],{type:"text/markdown;charset=utf-8"}),t=URL.createObjectURL(a),o=document.createElement("a");o.href=t,o.download=`é¡¹ç›®æ´»åŠ¨æŠ¥å‘Š_${C.id}_${new Date().toISOString().split("T")[0]}.md`,o.click(),URL.revokeObjectURL(t)},Le=a=>{R.value.has(a)?R.value.delete(a):R.value.add(a)},xe=a=>R.value.has(a),Ne=()=>{R.value=new Set(Object.keys(V.value))},Oe=()=>{R.value.clear()},Ee=()=>{F.push("/")};return Ve(()=>{C.id&&(le(N.value),ae.value?.overview||h.fetchProjectOverview(C.id),B())}),He(()=>{}),Be(()=>C.id,a=>{a&&(le(N.value),h.fetchProjectOverview(a),B())}),(a,t)=>(n(),d("div",Lt,[e("header",Nt,[e("div",Ot,[e("div",Et,[e("div",null,[e("h1",{class:"text-4xl font-black text-gray-800 uppercase cursor-pointer hover:bg-brutal-yellow hover:px-2 transition-all",onClick:Ee},m(oe.value),1),e("div",Ft,m(ae.value?.overview?.description||"é¡¹ç›®æ´»åŠ¨æ—¶é—´çº¿"),1)]),e("div",Ut,[l(et)])])])]),e("main",Pt,[e("div",Vt,[e("h2",Ht,[l(i(q),{class:"w-6 h-6 mr-3 text-blue-600"}),t[4]||(t[4]=b(" æ—¶é—´ç­›é€‰å™¨ ",-1))]),e("div",Bt,[(n(),d(W,null,G(ke,o=>e("button",{key:o.value,onClick:p=>De(o.value),class:Ke(["border-4 border-blue-600 px-4 py-2 font-black text-gray-800 uppercase transition-all hover:transform hover:scale-105",N.value===o.value?"bg-blue-600 text-brutal-yellow shadow-brutal-sm":"bg-white hover:bg-brutal-pink"])},m(o.label),11,qt)),64))]),e("div",Wt,[e("div",null,[e("label",Gt,[l(i(Q),{class:"w-5 h-5 mr-2 text-blue-600"}),t[5]||(t[5]=b(" å¼€å§‹æ—¥æœŸ ",-1))]),ie(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=o=>$.value=o),onChange:B,class:"border-4 border-blue-600 px-3 py-2 font-bold focus:outline-none focus:bg-brutal-cyan"},null,544),[[ce,$.value]])]),e("div",null,[e("label",Yt,[l(i(Q),{class:"w-5 h-5 mr-2 text-blue-600"}),t[6]||(t[6]=b(" ç»“æŸæ—¥æœŸ ",-1))]),ie(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=o=>D.value=o),onChange:B,class:"border-4 border-blue-600 px-3 py-2 font-bold focus:outline-none focus:bg-brutal-cyan"},null,544),[[ce,D.value]])]),e("div",Zt,[e("button",{onClick:B,class:"bg-brutal-green border-4 border-blue-600 shadow-brutal px-6 py-2 font-black text-gray-800 uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all"},[l(i(nt),{class:"w-5 h-5 mr-2"}),t[7]||(t[7]=b(" æŸ¥è¯¢ ",-1))])])])]),H.value?(n(),d("div",Jt,[e("div",Xt,[e("h2",Kt,[l(i(tt),{class:"w-6 h-6 mr-3 text-blue-600"}),t[8]||(t[8]=b(" æ´»åŠ¨æ¦‚è§ˆ ",-1))]),e("button",{onClick:je,disabled:!A.value.length,class:"bg-brutal-orange border-4 border-blue-600 shadow-brutal px-4 py-2 font-black text-gray-800 uppercase hover:transform hover:scale-105 transition-all disabled:opacity-50"},[l(i(K),{class:"w-5 h-5 mr-2"}),t[9]||(t[9]=b(" ç”ŸæˆAIæŠ¥å‘Š ",-1))],8,Qt)]),e("div",es,[e("div",ts,[e("div",ss,m(H.value.pushCount),1),t[10]||(t[10]=e("div",{class:"text-sm font-bold text-gray-800 uppercase"},"æŽ¨é€æ¬¡æ•°",-1))]),e("div",rs,[e("div",as,m(H.value.commitCount),1),t[11]||(t[11]=e("div",{class:"text-sm font-bold text-gray-800 uppercase"},"æäº¤æ•°é‡",-1))]),e("div",os,[e("div",ls,m(H.value.fileChanges),1),t[12]||(t[12]=e("div",{class:"text-sm font-bold text-gray-800 uppercase"},"æ–‡ä»¶å˜æ›´",-1))]),e("div",ns,[e("div",is,m(H.value.activeDays),1),t[13]||(t[13]=e("div",{class:"text-sm font-bold text-gray-800 uppercase"},"æ´»è·ƒå¤©æ•°",-1))])])])):g("",!0),e("div",cs,[e("div",ds,[e("h2",us,[l(i(it),{class:"w-6 h-6 mr-3 text-blue-600"}),t[14]||(t[14]=b(" æ´»åŠ¨æ—¶é—´çº¿ ",-1))]),Object.keys(V.value).length>0?(n(),d("div",bs,[R.value.size<Object.keys(V.value).length?(n(),d("button",{key:0,onClick:Ne,class:"bg-brutal-cyan border-4 border-blue-600 px-3 py-1 font-black text-gray-800 text-sm uppercase hover:bg-brutal-pink transition-colors"},[l(i(at),{class:"w-4 h-4 mr-2"}),t[15]||(t[15]=b(" å…¨éƒ¨æ”¶ç¼© ",-1))])):g("",!0),R.value.size>0?(n(),d("button",{key:1,onClick:Oe,class:"bg-brutal-green border-4 border-blue-600 px-3 py-1 font-black text-gray-800 text-sm uppercase hover:bg-brutal-yellow transition-colors"},[l(i(ot),{class:"w-4 h-4 mr-2"}),t[16]||(t[16]=b(" å…¨éƒ¨å±•å¼€ ",-1))])):g("",!0)])):g("",!0)]),_e.value?(n(),d("div",ps,[e("div",ms,[e("div",hs,[l(i(lt),{class:"w-6 h-6 mr-3 animate-spin text-blue-600"}),t[17]||(t[17]=b(" åŠ è½½ä¸­ ",-1))]),t[18]||(t[18]=e("div",{class:"text-sm font-bold text-gray-800"},"æ­£åœ¨èŽ·å–æ´»åŠ¨è®°å½•...",-1))])])):A.value.length===0?(n(),d("div",xs,[...t[19]||(t[19]=[e("div",{class:"bg-brutal-orange border-4 border-blue-600 shadow-brutal-lg p-8 max-w-md mx-auto transform -rotate-1"},[e("h3",{class:"text-xl font-black text-gray-800 uppercase mb-4"},"ðŸ“­ æ²¡æœ‰æ´»åŠ¨è®°å½•"),e("p",{class:"text-sm font-bold text-gray-800"}," åœ¨æ‰€é€‰æ—¶é—´èŒƒå›´å†…æ²¡æœ‰æ‰¾åˆ°ä»»ä½•æŽ¨é€æ´»åŠ¨ ")],-1)])])):(n(),d("div",vs,[(n(!0),d(W,null,G(V.value,(o,p)=>(n(),d("div",{key:p,class:"relative"},[e("div",{class:"flex items-center mb-4 cursor-pointer hover:bg-brutal-yellow hover:px-2 p-2 -mx-2 transition-all border-2 border-blue-600",onClick:c=>Le(p)},[e("div",fs,[e("span",gs,m(xe(p)?"â–º":"â–¼"),1),e("div",ws,m($e(p)),1)]),t[20]||(t[20]=e("div",{class:"flex-1 h-1 bg-blue-600 ml-4"},null,-1)),e("div",ks,m(o.length)+" ä¸ªæ´»åŠ¨ ",1)],8,ys),xe(p)?g("",!0):(n(),d("div",_s,[(n(!0),d(W,null,G(o,c=>(n(),d("div",{key:c.id||c.created_at,class:"relative border-4 border-blue-600 shadow-brutal bg-white p-4 hover:shadow-brutal-lg hover:transform hover:-translate-y-1 transition-all"},[e("div",$s,[l(i(re),{class:"w-4 h-4"})]),e("div",Ds,[e("div",Cs,[e("div",js,[e("h3",Ts,m(c.action||"pushed to"),1),e("span",Ms,m(c.target_title||c.ref_name||"master"),1)]),c.note?(n(),d("p",Ss,m(c.note),1)):g("",!0),c.commits&&c.commits.length?(n(),d("div",As,[(n(!0),d(W,null,G(c.commits.slice(0,3),j=>(n(),d("div",{key:j.id,class:"text-xs text-gray-500 font-mono bg-gray-50 p-2 rounded"},[e("div",Is,m(j.id?.substring(0,7)),1),e("div",zs,m(j.message),1)]))),128)),c.commits.length>3?(n(),d("div",Rs," è¿˜æœ‰ "+m(c.commits.length-3)+" ä¸ªæäº¤... ",1)):g("",!0)])):g("",!0)]),e("div",Ls,[e("div",Ns,m(be(c.created_at)),1),c.author_name?(n(),d("div",Os,m(c.author_name),1)):g("",!0)])])]))),128))]))]))),128))]))])]),U.value?(n(),d("div",{key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:pe},[e("div",{class:"bg-white border-4 border-blue-600 shadow-brutal-lg max-w-4xl w-full max-h-[90vh] flex flex-col transform rotate-1 hover:rotate-0 transition-transform duration-300",onClick:t[3]||(t[3]=qe(()=>{},["stop"]))},[e("div",Es,[e("div",Fs,[e("div",Us,[e("h2",Ps,[l(i(K),{class:"w-6 h-6 mr-3 text-blue-600"}),t[21]||(t[21]=b(" AIæ™ºèƒ½æŠ¥å‘Š ",-1))]),u.value?(n(),d("span",Vs,[l(i(Q),{class:"w-3 h-3 mr-1"}),b(" "+m(u.value.toLocaleString("zh-CN")),1)])):g("",!0),P.value&&!r.value?(n(),d("span",Hs,[l(i(q),{class:"w-3 h-3 mr-1"}),b(" "+m(P.value),1)])):g("",!0)]),e("div",Bs,[e("button",{onClick:Me,disabled:r.value,class:"bg-brutal-green border-4 border-blue-600 shadow-brutal px-4 py-2 font-black text-gray-800 uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all disabled:opacity-50 disabled:cursor-not-allowed","data-ai-generate-btn":""},[l(i(K),{class:"w-4 h-4 mr-2 inline"}),b(" "+m(r.value?"ç”Ÿæˆä¸­...":y.value?"é‡æ–°ç”Ÿæˆ":"ç”ŸæˆæŠ¥å‘Š"),1)],8,qs),e("button",{onClick:pe,class:"bg-brutal-red border-4 border-blue-600 shadow-brutal px-3 py-2 font-black text-gray-800 uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all"},[l(i(ue),{class:"w-4 h-4"})])])])]),e("div",Ws,[!r.value&&!y.value&&!x.value?(n(),d("div",Gs,[e("div",Ys,[e("div",Zs,[l(i(q),{class:"w-4 h-4 mr-2 text-blue-600"}),t[22]||(t[22]=b(" é¢„è®¡è€—æ—¶ 30-60 ç§’ ",-1))])]),e("div",Js,[e("div",Xs,[l(i(ue),{class:"w-4 h-4 mr-2 text-blue-600"}),t[23]||(t[23]=b(" å¼€å§‹ç”ŸæˆåŽå¯å…³é—­çª—å£ï¼Œç”Ÿæˆä¸ä¼šä¸­æ–­ ",-1))])]),e("div",Ks,[e("div",Qs,[e("h3",er,[l(i(re),{class:"w-5 h-5 mr-2 text-blue-600"}),t[24]||(t[24]=b(" ä¿¡æ¯è¡¥å…… (å¯é€‰) ",-1))]),ie(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>Z.value=o),placeholder:"æ‚¨å¯ä»¥åœ¨è¿™é‡Œè¡¥å……é¡¹ç›®èƒŒæ™¯ä¿¡æ¯ã€å·¥ä½œå†…å®¹è¯´æ˜Žæˆ–å…¶ä»–éœ€è¦AIäº†è§£çš„ä¿¡æ¯ï¼Œä»¥ä¾¿ç”Ÿæˆæ›´ç²¾å‡†çš„æŠ¥å‘Š...",class:"w-full h-32 p-4 border-4 border-blue-600 font-bold text-gray-800 text-sm resize-none focus:outline-none focus:bg-brutal-cyan placeholder:text-gray-500 placeholder:font-normal"},null,512),[[ce,Z.value]]),t[25]||(t[25]=e("div",{class:"mt-2 text-xs text-gray-600 font-bold"}," æç¤ºï¼šæ·»åŠ ç›¸å…³èƒŒæ™¯ä¿¡æ¯å¯ä»¥è®©AIç”Ÿæˆæ›´å…·ä½“ã€æ›´æœ‰ä»·å€¼çš„åˆ†æžæŠ¥å‘Š ",-1))])]),e("div",tr,[l(i(K),{class:"w-16 h-16 text-blue-600 mb-4 mx-auto"}),e("h3",sr,[l(i(K),{class:"w-8 h-8 mr-3"}),t[26]||(t[26]=b(" AIæ™ºèƒ½æŠ¥å‘Š ",-1))]),t[28]||(t[28]=e("p",{class:"text-sm font-bold text-gray-800 mb-4"},"ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ç”Ÿæˆæ™ºèƒ½åˆ†æžæŠ¥å‘Š",-1)),e("div",rr,[l(i(de),{class:"w-4 h-4 mr-2"}),t[27]||(t[27]=b(" AIå°†åˆ†æžæ‚¨çš„é¡¹ç›®æ´»åŠ¨å¹¶ç”Ÿæˆè¯¦ç»†æŠ¥å‘Š ",-1))])])])):g("",!0),r.value&&!y.value?(n(),d("div",ar,[e("div",or,[t[30]||(t[30]=e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-blue-600 border-t-transparent"},null,-1)),e("p",lr,[l(i(de),{class:"w-4 h-4 mr-2"}),t[29]||(t[29]=b(" æ­£åœ¨ç”ŸæˆAIæŠ¥å‘Š... ",-1))]),P.value?(n(),d("p",nr,[l(i(q),{class:"w-3 h-3 mr-1"}),b(" å·²è€—æ—¶: "+m(P.value),1)])):g("",!0)])])):y.value||x.value?(n(),d("div",ir,[x.value?(n(),ve(zt,{key:0,reportData:x.value,projectName:oe.value,onShowToast:O},null,8,["reportData","projectName"])):y.value?(n(),d("div",cr,[e("div",dr,[e("button",{onClick:Ie,class:"bg-brutal-cyan border-4 border-blue-600 shadow-brutal-sm px-3 py-2 font-bold text-gray-800 uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all text-xs"},[l(i(se),{class:"w-3 h-3 mr-1 inline"}),t[31]||(t[31]=b(" å¤åˆ¶ ",-1))]),e("button",{onClick:ze,class:"bg-brutal-green border-4 border-blue-600 shadow-brutal-sm px-3 py-2 font-bold text-gray-800 uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all text-xs"},[l(i(re),{class:"w-3 h-3 mr-1 inline"}),t[32]||(t[32]=b(" æ–‡æœ¬ ",-1))]),e("button",{onClick:Re,class:"bg-brutal-orange border-4 border-blue-600 shadow-brutal-sm px-3 py-2 font-bold text-gray-800 uppercase hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all text-xs"},[l(i(fe),{class:"w-3 h-3 mr-1 inline"}),t[33]||(t[33]=b(" ä¸‹è½½(MD) ",-1))])]),e("div",{ref_key:"reportContainer",ref:ge,class:"border-4 border-blue-600 shadow-brutal-sm p-6 overflow-auto max-h-96 scroll-smooth bg-white transform -rotate-1"},[r.value?(n(),d("div",ur,[t[35]||(t[35]=e("div",{class:"bg-brutal-orange border-4 border-blue-600 shadow-brutal p-4 inline-block"},[e("div",{class:"animate-spin rounded-full h-8 w-8 border-4 border-blue-600 border-t-transparent"})],-1)),e("p",br,[l(i(de),{class:"w-4 h-4 mr-2"}),t[34]||(t[34]=b(" æ­£åœ¨ç”ŸæˆAIæŠ¥å‘Š... ",-1))]),P.value?(n(),d("p",pr,[l(i(q),{class:"w-3 h-3 mr-1"}),b(" "+m(P.value),1)])):g("",!0)])):(n(),d("div",mr,m(y.value),1))],512)])):g("",!0)])):g("",!0)])])])):g("",!0),(n(),ve(Ye,{to:"body"},[e("div",hr,[l(Ge,{name:"toast",tag:"div"},{default:We(()=>[(n(!0),d(W,null,G(ee.value,(o,p)=>(n(),d("div",{key:o.id,class:"bg-brutal-green border-4 border-blue-600 shadow-brutal overflow-hidden animate-fade-in toast-container min-w-[300px] max-w-[400px] transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all",style:Qe({"z-index":99999-p,"margin-top":p>0?"0.5rem":"0",transform:`rotate(${p%2===0?"1deg":"-1deg"})`})},[(n(),d("div",{class:"countdown-bar bg-blue-600",key:"bar-"+o.id})),e("div",xr,[e("div",vr,[l(i(st),{class:"w-5 h-5 text-blue-600"})]),e("div",yr,[e("p",fr,m(o.message),1)]),e("div",gr,[e("button",{onClick:c=>he(o.id),class:"bg-brutal-red border-2 border-blue-600 shadow-brutal-sm px-2 py-1 font-bold text-gray-800 hover:transform hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all"},[l(i(ue),{class:"w-3 h-3"})],8,wr)])])],4))),128))]),_:1})])]))]))}},Dr=Rt(kr,[["__scopeId","data-v-596a0023"]]);export{Dr as default};
